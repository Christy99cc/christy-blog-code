<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.loli.net/css?family=Noto+Serif+SC:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css" integrity="sha256-2H3fkXt6FEmrReK448mDVGKb3WW2ZZw35gI7vqHOE4Y=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"999795.xyz","root":"/","images":"/images","scheme":"Pisces","version":"8.6.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>
<meta name="description" content="保持热情:)">
<meta property="og:type" content="website">
<meta property="og:title" content="一杯西瓜汁er🍉">
<meta property="og:url" content="https://999795.xyz/index.html">
<meta property="og:site_name" content="一杯西瓜汁er🍉">
<meta property="og:description" content="保持热情:)">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Christy">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://999795.xyz/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>一杯西瓜汁er🍉</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">一杯西瓜汁er🍉</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
        <li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-overview">
            <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Christy"
      src="/upload/avatar.jpg">
  <p class="site-author-name" itemprop="name">Christy</p>
  <div class="site-description" itemprop="description">保持热情:)</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">18</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/christy99cc" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;christy99cc" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



<div style="">
  <canvas id="canvas" style="width:60%;">当前浏览器不支持canvas，请更换浏览器后再试</canvas>
</div>
<script>
(function(){

   var digit=
    [
        [
            [0,0,1,1,1,0,0],
            [0,1,1,0,1,1,0],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,0,1,1,0],
            [0,0,1,1,1,0,0]
        ],//0
        [
            [0,0,0,1,1,0,0],
            [0,1,1,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [1,1,1,1,1,1,1]
        ],//1
        [
            [0,1,1,1,1,1,0],
            [1,1,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,0,0],
            [0,0,1,1,0,0,0],
            [0,1,1,0,0,0,0],
            [1,1,0,0,0,0,0],
            [1,1,0,0,0,1,1],
            [1,1,1,1,1,1,1]
        ],//2
        [
            [1,1,1,1,1,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,0,0],
            [0,0,1,1,1,0,0],
            [0,0,0,0,1,1,0],
            [0,0,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,1,1,0]
        ],//3
        [
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,1,0],
            [0,0,1,1,1,1,0],
            [0,1,1,0,1,1,0],
            [1,1,0,0,1,1,0],
            [1,1,1,1,1,1,1],
            [0,0,0,0,1,1,0],
            [0,0,0,0,1,1,0],
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,1,1]
        ],//4
        [
            [1,1,1,1,1,1,1],
            [1,1,0,0,0,0,0],
            [1,1,0,0,0,0,0],
            [1,1,1,1,1,1,0],
            [0,0,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,1,1,0]
        ],//5
        [
            [0,0,0,0,1,1,0],
            [0,0,1,1,0,0,0],
            [0,1,1,0,0,0,0],
            [1,1,0,0,0,0,0],
            [1,1,0,1,1,1,0],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,1,1,0]
        ],//6
        [
            [1,1,1,1,1,1,1],
            [1,1,0,0,0,1,1],
            [0,0,0,0,1,1,0],
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,1,1,0,0,0],
            [0,0,1,1,0,0,0],
            [0,0,1,1,0,0,0],
            [0,0,1,1,0,0,0]
        ],//7
        [
            [0,1,1,1,1,1,0],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,1,1,0],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,1,1,0]
        ],//8
        [
            [0,1,1,1,1,1,0],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,0,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,0,0],
            [0,1,1,0,0,0,0]
        ],//9
        [
            [0,0,0,0,0,0,0],
            [0,0,1,1,1,0,0],
            [0,0,1,1,1,0,0],
            [0,0,1,1,1,0,0],
            [0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0],
            [0,0,1,1,1,0,0],
            [0,0,1,1,1,0,0],
            [0,0,1,1,1,0,0],
            [0,0,0,0,0,0,0]
        ]//:
    ];

var canvas = document.getElementById('canvas');

if(canvas.getContext){
    var cxt = canvas.getContext('2d');
    //声明canvas的宽高
    var H = 100,W = 700;
    canvas.height = H;
    canvas.width = W;
    cxt.fillStyle = '#f00';
    cxt.fillRect(10,10,50,50);

    //存储时间数据
    var data = [];
    //存储运动的小球
    var balls = [];
    //设置粒子半径
    var R = canvas.height/20-1;
    (function(){
        var temp = /(\d)(\d):(\d)(\d):(\d)(\d)/.exec(new Date());
        //存储时间数字，由十位小时、个位小时、冒号、十位分钟、个位分钟、冒号、十位秒钟、个位秒钟这7个数字组成
        data.push(temp[1],temp[2],10,temp[3],temp[4],10,temp[5],temp[6]);
    })();

    /*生成点阵数字*/
    function renderDigit(index,num){
        for(var i = 0; i < digit[num].length; i++){
            for(var j = 0; j < digit[num][i].length; j++){
                if(digit[num][i][j] == 1){
                    cxt.beginPath();
                    cxt.arc(14*(R+2)*index + j*2*(R+1)+(R+1),i*2*(R+1)+(R+1),R,0,2*Math.PI);
                    cxt.closePath();
                    cxt.fill();
                }
            }
        }
    }

    /*更新时钟*/
    function updateDigitTime(){
        var changeNumArray = [];
        var temp = /(\d)(\d):(\d)(\d):(\d)(\d)/.exec(new Date());
        var NewData = [];
        NewData.push(temp[1],temp[2],10,temp[3],temp[4],10,temp[5],temp[6]);
        for(var i = data.length-1; i >=0 ; i--){
            //时间发生变化
            if(NewData[i] !== data[i]){
                //将变化的数字值和在data数组中的索引存储在changeNumArray数组中
                changeNumArray.push(i+'_'+(Number(data[i])+1)%10);
            }
        }
        //增加小球
        for(var i = 0; i< changeNumArray.length; i++){
            addBalls.apply(this,changeNumArray[i].split('_'));
        }
        data = NewData.concat();
    }

    /*更新小球状态*/
    function updateBalls(){
        for(var i = 0; i < balls.length; i++){
            balls[i].stepY += balls[i].disY;
            balls[i].x += balls[i].stepX;
            balls[i].y += balls[i].stepY;
            if(balls[i].x > W + R || balls[i].y > H + R){
                balls.splice(i,1);
                i--;
            }
        }
    }

    /*增加要运动的小球*/
    function addBalls(index,num){
        var numArray = [1,2,3];
        var colorArray =  ["#3BE","#09C","#A6C","#93C","#9C0","#690","#FB3","#F80","#F44","#C00"];
        for(var i = 0; i < digit[num].length; i++){
            for(var j = 0; j < digit[num][i].length; j++){
                if(digit[num][i][j] == 1){
                    var ball = {
                        x:14*(R+2)*index + j*2*(R+1)+(R+1),
                        y:i*2*(R+1)+(R+1),
                        stepX:Math.floor(Math.random() * 4 -2),
                        stepY:-2*numArray[Math.floor(Math.random()*numArray.length)],
                        color:colorArray[Math.floor(Math.random()*colorArray.length)],
                        disY:1
                    };
                    balls.push(ball);
                }
            }
        }
    }

    /*渲染*/
    function render(){
        //重置画布宽度，达到清空画布的效果
        canvas.height = 100;
        //渲染时钟
        for(var i = 0; i < data.length; i++){
            renderDigit(i,data[i]);
        }
        //渲染小球
        for(var i = 0; i < balls.length; i++){
            cxt.beginPath();
            cxt.arc(balls[i].x,balls[i].y,R,0,2*Math.PI);
            cxt.fillStyle = balls[i].color;
            cxt.closePath();
            cxt.fill();
        }
    }

    clearInterval(oTimer);
    var oTimer = setInterval(function(){
        //更新时钟
        updateDigitTime();
        //更新小球状态
        updateBalls();
        //渲染
        render();
    },50);
}

})();
</script>
          </div>
        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://999795.xyz/2021/09/15/%E6%8D%A2%E4%BA%86%E5%8F%B0%E6%9C%BA%E5%99%A8-%E5%8F%88%E8%A6%81%E7%BB%99%E8%87%AA%E5%B7%B1%E6%96%B0%E5%BB%BA%E7%94%A8%E6%88%B7%E4%BA%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/upload/avatar.jpg">
      <meta itemprop="name" content="Christy">
      <meta itemprop="description" content="保持热情:)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一杯西瓜汁er🍉">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/09/15/%E6%8D%A2%E4%BA%86%E5%8F%B0%E6%9C%BA%E5%99%A8-%E5%8F%88%E8%A6%81%E7%BB%99%E8%87%AA%E5%B7%B1%E6%96%B0%E5%BB%BA%E7%94%A8%E6%88%B7%E4%BA%86/" class="post-title-link" itemprop="url"> 换了台机器 又要给自己新建用户了</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-09-15 09:00:00" itemprop="dateCreated datePublished" datetime="2021-09-15T09:00:00+00:00">2021-09-15</time>
    </span>

  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>191</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>需要准备：</p>
</blockquote>
<blockquote>
<p>Linux系统 （本文使用的是Ubuntu 18.04）</p>
<p>一个拥有sudo权限的账号user</p>
</blockquote>
<ol type="1">
<li>创建账号</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo adduser zsx</span><br></pre></td></tr></table></figure>
<p>同时会创建用户主目录<code>/home/zsx/</code></p>
<ol start="2" type="1">
<li>为用户增加sudo权限</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/sudoers </span><br></pre></td></tr></table></figure>
<p>增加权限</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># User privilege specification</span><br><span class="line">root    ALL=(ALL:ALL) ALL</span><br><span class="line">zsx ALL=(ALL:ALL) ALL</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://999795.xyz/2021/08/18/when-human-pose-estimation-meets-robustness-adversarial-algorithms-and-benchmarks/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/upload/avatar.jpg">
      <meta itemprop="name" content="Christy">
      <meta itemprop="description" content="保持热情:)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一杯西瓜汁er🍉">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/08/18/when-human-pose-estimation-meets-robustness-adversarial-algorithms-and-benchmarks/" class="post-title-link" itemprop="url">【论文简读】【AdvMix】When Human Pose Estimation Meets Robustness: Adversarial Algorithms and Benchmarks</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-08-18 03:20:00" itemprop="dateCreated datePublished" datetime="2021-08-18T03:20:00+00:00">2021-08-18</time>
    </span>

  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>2.9k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>3 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>写在前：</p>
<p>记录📝论文重点贡献、做法等</p>
<p>（领会理解文章的做法）</p>
</blockquote>
<h2 id="相关信息">相关信息💻</h2>
<blockquote>
<p>论文在：CVPR2021</p>
</blockquote>
<ul>
<li><p>简称：AdvMix</p></li>
<li><p>论文地址：<a target="_blank" rel="noopener" href="https://arxiv.org/abs/2105.06152">https://arxiv.org/abs/2105.06152</a></p></li>
</ul>
<h2 id="贡献点">贡献点💡🌟</h2>
<ul>
<li><p>我们提出了三个健壮的基准测试COCO-C、MPII-C和OCHuman-C，并证明了自顶向下和自底向上的姿态估计器在损坏的图像上都遭受了严重的性能下降，引起了社区对这个问题的关注。</p></li>
<li><p>通过大量的实验，我们得到了许多有趣的结论，这些结论将有助于提高未来工作的准确性和稳健性。</p></li>
<li><p>我们提出了一种<strong>结合知识蒸馏的对抗数据增强方法AdvMix</strong>，该方法与模型无关，且易于实现。它显著提高了姿态估计模型的鲁棒性，同时保持或略微提高了对干净数据的性能，而没有额外的推断计算开销。</p></li>
</ul>
<h2 id="摘要介绍">摘要/介绍🤓</h2>
<p>人体姿态估计是计算机视觉中一项基础而又富有挑战性的任务，其目标是定位人体的关键点。然而，与人类视觉对各种数据损坏(如模糊和像素化)的健壮性不同，当前的姿态估计器很容易被这些损坏所混淆。</p>
<p>本文通过建立COCO-C、MPII-C和OCHuman-C严格的鲁棒基准来评估当前高级位姿估计器的弱点，对这一问题进行了全面的研究和解决，并提出了一种新的<strong>AdvMix算法</strong>来提高它们在不同腐蚀情况下的鲁棒性。</p>
<p>我们的工作有几个独特的好处。</p>
<ol type="1">
<li><p>AdvMix是模型无关的，能够在广泛的姿态估计模型中使用。</p></li>
<li><p>AdvMix由对抗性增强和知识蒸馏两部分组成。对抗性增强包含两个神经网络模块，它们以对抗性的方式进行联合和竞争训练，其中生成器网络混合不同的损坏图像来混淆姿态估计器，通过学习更难的样本来提高姿态估计器的鲁棒性。为了通过对抗增强对噪声模式进行补偿，采用知识分解的方法将清晰的位姿结构知识转移到目标位姿估计器中。</p></li>
</ol>
<p>(3)大量实验表明，AdvMix显著提高了姿态估计在广泛的腐败范围内的稳健性，同时在各种具有挑战性的基准数据集中保持了对干净数据的准确性。</p>
<h2 id="方法">方法🤔</h2>
<h3 id="鲁棒的的姿态基准">鲁棒的的姿态基准</h3>
<h4 id="基准数据集">基准数据集</h4>
<ul>
<li><p>COCO-C Dataset.</p></li>
<li><p>MPII-C Dataset.</p></li>
<li><p>OCHuman-C Dataset.</p></li>
</ul>
<h4 id="评价标准">评价标准</h4>
<h3 id="对抗增强混合advmix">对抗增强混合(AdvMix)</h3>
<h4 id="增强生成器">增强生成器</h4>
<figure>
<img src="https://x.arcto.xyz/NXalTC/advmix-fig-3.png" alt><figcaption>advmix-fig-3: Overview of AdvMix. 框架包括两个模块:对抗增强模块和知识蒸馏模块。对抗增强模块包括一个增强生成器和一个姿态估计器。</figcaption>
</figure>
<p>如图3所示，给定图像<span class="math inline">\(I\)</span>，我们首先使用平行列增强策略<span class="math inline">\(\mathcal{O}_{k}\)</span>随机生成<span class="math inline">\(K\)</span>个不同的增强图像<span class="math inline">\(\mathcal{O}_{k}(I)\)</span>。在我们的实现中，我们默认使用K = 2。与原始图像I一起，我们得到一组<span class="math inline">\(K + 1\)</span>的proposal图像。利用增强生成器<span class="math inline">\(\mathcal{G}(\cdot, \theta)\)</span>输出归一化注意力映射<span class="math inline">\(\mathcal{M}^{(K+1) \times H \times W}\)</span>，其中H和W为图像分辨率。注意力映射图<span class="math inline">\(\mathcal{M}\)</span>被用作权重来混合提案图像，其中<span class="math inline">\(\odot\)</span>是Hadamard乘积。</p>
<p><span class="math display">\[
I_{m i x}=\mathcal{M}_{0} \odot I+\sum_{k=1}^{K} \mathcal{M}_{k} \odot \mathcal{O}_{k}(I)
\]</span></p>
<p>在图像<span class="math inline">\(I\)</span>中，我们选择Grid-Mask和AutoAugment生成随机增强图像，然后通过混合增强生成器的权重来混合这些图像。我们采用U-Net[34]架构构建增强生成器<span class="math inline">\(\mathcal{G}(\cdot, \theta)\)</span>，生成用于混合随机增强图像的注意力映射。</p>
<h4 id="热图回归">热图回归</h4>
<p>人体姿态是用二维高斯置信度热图编码的，每个通道对应一个人体关键点。人体姿态估计网络<span class="math inline">\(\mathcal{D}(\cdot, \phi)\)</span>的目标是最小化预测热图与地面真实热图Hgt<span class="math inline">\(\mathcal{H}_{gt}\)</span>之间的MSE损失:</p>
<p><span class="math display">\[
\mathcal{L}_{\mathcal{D}^{*}}=\left\|\mathcal{D}\left(I_{m i x}, \phi\right)-\mathcal{H}_{g t}\right\|_{2}^{2}
\]</span></p>
<p>为加强对目标姿态估计器<span class="math inline">\(\mathcal{D}\)</span>的监督，我们引入教师姿态估计器<span class="math inline">\(\mathcal{T}\)</span>，以蒸馏知识，并提供<strong>软</strong>热图标签。注意，<span class="math inline">\(\mathcal{T}\)</span>和<span class="math inline">\(\mathcal{D}\)</span>共享相同的架构，而且<span class="math inline">\(\mathcal{T}\)</span>在干净的训练数据上预先训练过。<span class="math inline">\(\mathcal{T}\)</span>的参数将在训练时固定。为知识蒸馏损失选择MSE损失，即:</p>
<p><span class="math display">\[
\mathcal{L}_{\mathcal{D}_{k d}}=\|\mathcal{D}(I, \phi)-\mathcal{T}(I)\|_{2}^{2}
\]</span></p>
<p>将姿态估计器<span class="math inline">\(\mathcal{D}\)</span>训练时的整体损失函数表示为:</p>
<p><span class="math display">\[
\mathcal{L}_{\mathcal{D}_{k d}}=\|\mathcal{D}(I, \phi)-\mathcal{T}(I)\|_{2}^{2}
\]</span></p>
<p>其中，α是MSE损失和知识蒸馏损失之间的损失重量平衡。由于模型对α不敏感，故选择α = 0.1作为默认设置。</p>
<h4 id="对抗训练">对抗训练</h4>
<p>增强生成器<span class="math inline">\(\mathcal{G}(\cdot, \theta)\)</span>和人体姿态估计器增强生成器<span class="math inline">\(\mathcal{D}(\cdot, \phi)\)</span>以对抗的方式进行训练。增强生成器<span class="math inline">\(\mathcal{G}(\cdot, \theta)\)</span>试图找到最容易混淆的方法来混合随机图像，而<span class="math inline">\(\mathcal{D}(\cdot, \phi)\)</span>则从较硬的训练样本中学习更鲁棒的特征。优化目标的定义为:</p>
<p><span class="math display">\[
\mathcal{L}_{\mathcal{G}}=-\mathcal{L}_{\mathcal{D}^{*}}
\]</span></p>
<p>总的来说，整个学习过程可以定义为具有价值函数<span class="math inline">\(\mathcal{V}(\mathcal{D}, \mathcal{G})\)</span>的二人零和博弈:</p>
<p><span class="math display">\[
\mathcal{V}(\mathcal{D}, \mathcal{G})=\min _{\phi} \max _{\theta} \underset{\mathcal{I} \sim \Omega}{\mathbb{E}} \mathcal{L}\left(\mathcal{D}(\mathcal{G}(\mathcal{O}(\mathcal{I}), \theta), \phi), \mathcal{H}_{g t}\right)
\]</span></p>
<h2 id="思考">思考🤔</h2>
<ul>
<li><p>这篇文章主要是在<strong>数据处理</strong>方面下的功夫，提出一种结合了知识蒸馏的对抗数据增强的方法。</p></li>
<li><p>与模型无关，可以增强姿态估计器的鲁棒性。也就是说，可以与各种姿态估计模型相结合。</p></li>
<li><p>在对抗训练的过程，还是有些疑问。。。<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/296809584">对抗训练——终极数据增强？</a>这个知乎的文章也没有看明白QUQ</p></li>
<li><p>关于知识蒸馏，之前简单了解思想，根据这篇文章重新回顾一下～<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/102038521">【经典简读】知识蒸馏(Knowledge Distillation) 经典之作</a></p></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://999795.xyz/2021/08/17/vipnas-efficient-video-pose-estimation-via-neural-architecture-search/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/upload/avatar.jpg">
      <meta itemprop="name" content="Christy">
      <meta itemprop="description" content="保持热情:)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一杯西瓜汁er🍉">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/08/17/vipnas-efficient-video-pose-estimation-via-neural-architecture-search/" class="post-title-link" itemprop="url">【论文阅读】ViPNAS: Efficient Video Pose Estimation via Neural Architecture Search</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-08-17 18:35:00" itemprop="dateCreated datePublished" datetime="2021-08-17T18:35:00+00:00">2021-08-17</time>
    </span>

  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>5.1k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>5 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>写在前：</p>
<p>记录📝</p>
<p>在仔细阅读之前，搜索发现了已经有人翻译or解释过此篇文章，也当作借鉴，链接🔗放在文章靠后的位置。</p>
</blockquote>
<h2 id="亮点">亮点💡</h2>
<ul>
<li>提出在视频中探索时间特征的融合以及自动计算分配（文中说是第一个提出的）</li>
</ul>
<h2 id="相关信息">相关信息💻</h2>
<blockquote>
<p>论文在：CVPR2021</p>
<p>作者单位：香港中文大学、商汤科技、香港大学、SenseTime Research and Tetras.AI、悉尼大学</p>
</blockquote>
<ul>
<li><p>简称：ViPNAS</p></li>
<li><p>论文地址：<a target="_blank" rel="noopener" href="https://arxiv.org/abs/2105.10154">https://arxiv.org/abs/2105.10154</a></p></li>
<li><p>代码地址：<a target="_blank" rel="noopener" href="https://github.com/luminxu/ViPNAS">https://github.com/luminxu/ViPNAS</a></p></li>
</ul>
<h2 id="贡献点">贡献点💡</h2>
<ol type="1">
<li>提出了一种新的用于视频姿态估计的时空神经结构搜索(NAS)框架，称为ViPNAS</li>
<li>ViPNAS学会在跨帧的总计算复杂度约束下为不同的帧分配计算资源(例如Flops)</li>
<li>ViPNAS自动搜索时间连接，即融合模块和位置。在视频姿态估计的任务中，我们在CPU<strong>实时</strong>性能(&gt;25FPS)下达到了SOTA。</li>
</ol>
<h2 id="摘要">摘要🤓</h2>
<h2 id="介绍">介绍</h2>
<ul>
<li><p>轻量模型：在本文中，我们的目标是构建一个轻量级的姿态估计器，达到SOTA并显著降低模型复杂性。</p></li>
<li><p>针对现状提出问题：低维特征高维特征，如何融合？什么时候融合？</p></li>
<li><p>解决：NAS（网络搜索结构），提出ViPNAS。</p></li>
</ul>
<p>我们提出了一种新的用于视频姿态估计的时空NAS框架，称为ViPNAS。对于空间层面的搜索，我们通过五个维度(深度、宽度、核大小、组数和注意力)来优化神经结构。对于时间层面的搜索，我们共同搜索三个方面的设计:1)特征融合阶段，2)特征融合操作，3)计算在视频帧间的分配。空间层次和时间层次的搜索通过一个单一的框架共同优化。给定多个帧上的总Flops作为约束，我们可以有效地跨不同视频帧分配计算，以优化性能。</p>
<figure>
<img src="https://x.arcto.xyz/8Xk_Vw/vipnas-fig-1.png" alt><figcaption>vipnas-fig-1</figcaption>
</figure>
<p>图1所示。PoseTrack2018验证集的速度-精度权衡。该文章提出的ViPNAS的精度可与最先进的网络相媲美，它可以在<strong>显著降低计算量</strong>的情况下实现<strong>CPU实时</strong>。</p>
<h2 id="相关工作">相关工作🤔</h2>
<h3 id="人体姿态估计">人体姿态估计</h3>
<h3 id="神经结构搜索nas">神经结构搜索（NAS）</h3>
<ul>
<li><p>图片级任务的NAS</p></li>
<li><p>视频级任务的NAS</p></li>
<li><p>单张图姿态估计的NAS</p></li>
</ul>
<p><strong>小结</strong>： 我们的工作与现有的NAS工作有三个不同之处。</p>
<ol type="1">
<li><p>首次将NAS应用于<strong>视频</strong>姿态估计</p></li>
<li><p>现有的图像级和视频级任务并不会同时搜索不同的架构，但我们的工作搜索框架专用模型，以便进一步利用NAS在视频姿态估计中的能力。</p></li>
<li><p>提出了新的时空搜索空间。</p></li>
</ol>
<p>为了充分利用时间信息，我们在将前一帧的特征融合到当前帧时，寻找最优的组合，这是之前工作没有探索的。该方法还继承了once-for-all的优点，即只训练一次，获得多个子网，有效地降低了搜索成本。</p>
<h2 id="方法">方法</h2>
<h3 id="overview">Overview</h3>
<figure>
<img src="https://x.arcto.xyz/KpsoY8/vipnas-fig-2.png" alt><figcaption>vipnas-fig-2</figcaption>
</figure>
<p>视频姿态估计的目的是在每一帧中定位人的人体部位(也称为关键点或关节)。</p>
<p>本文在在线姿态传播范式的基础上，提出了一种高效视频姿态估计框架(ViPNAS)。如图2所示。每<span class="math inline">\(T + 1\)</span>帧选取第一帧作为关键帧。<strong>对于关键帧</strong>，采用高精度空间视频姿态估计网络(S-ViPNet)对人体姿态进行定位。我们遵循常用的设置，使用热图将关节位置编码为高斯峰。<strong>对于非关键帧</strong>，采用轻量级时间视频姿态估计网络(T-ViPNet)进行姿态传播。在T-ViPNet中，利用CNN的某些层提取当前帧的特征，然后利用时间特征融合模块将当前帧的特征与最后一帧的热图进行融合。融合的特征然后由T-ViPNet的剩余CNN层处理，以获得热图。预测的热图对每个关节的像素似然进行编码，作为指导后续帧关键点定位的信息线索。传播一直持续到下一个关键帧。 ViPNAS包含两层搜索空间，即空间层和时间层。在空间级搜索空间中搜索关键帧S-ViPNet的结构。对非关键帧(T-ViPNets)的架构，包括时间特征融合模块和CNN层，在空间级和时间级的搜索空间中进行搜索。不同的非关键帧在特征融合模块(融合操作和特征融合阶段)和CNN层中都有不同的架构，如图2中的t + 1和t + 2帧所示。</p>
<h3 id="空间级搜索空间">空间级搜索空间</h3>
<p>设计了权值共享super-network，用于模型结构搜索、块数搜索和块结构搜索。我们的超网络被串联成几个阶段，每个阶段由几个具有相同输出特征空间分辨率的块组成。我们在以下五个维度进行搜索: - 弹性深度:每个阶段的块数。当深度D被选为这个阶段时，我们激活阶段的第一个D块。</p>
<figure>
<img src="https://x.arcto.xyz/3WYNEQ/vipnas-fig-a1.png" alt><figcaption>vipnas-fig-a1</figcaption>
</figure>
<ul>
<li>弹性宽度:每个块的输出通道数量。当宽度W被选择时，我们保留第一个W过滤器。</li>
</ul>
<figure>
<img src="https://x.arcto.xyz/DLESLr/vipnas-fig-a2.png" alt><figcaption>vipnas-fig-a2</figcaption>
</figure>
<ul>
<li>弹性核大小:每个块中卷积层的克尔大小。在选择kernel大小K时，保留中心K卷积核。对于正卷积层，核大小K的可能选择为3,5,7，对于反卷积层，核大小K的可能选择为2,4。</li>
</ul>
<figure>
<img src="https://x.arcto.xyz/Bmoxmz/vipnas-fig-a3.png" alt><figcaption>vipnas-fig-a3</figcaption>
</figure>
<ul>
<li>弹性组数:每个块中卷积层[22]的组数。对于N个输入通道，它的范围从1(标准卷积)到N(深度卷积)。</li>
</ul>
<figure>
<img src="https://x.arcto.xyz/s7qWEK/vipnas-fig-a4.png" alt><figcaption>vipnas-fig-a4</figcaption>
</figure>
<ul>
<li>弹性注意模块:在每个块的末尾是否使用注意模块。由于注意模块在[8,48]中被证明是有效的姿态估计，我们在搜索空间中包含注意模块。我们研究是否在每个块的末尾使用注意模块(例如GC块[4]或SE块[16])。如果没有选择注意模块，则跳过注意模块，应用身份映射。</li>
</ul>
<figure>
<img src="https://x.arcto.xyz/PwEc9E/vipnas-fig-a5.png" alt><figcaption>vipnas-fig-a5</figcaption>
</figure>
<h3 id="时间级搜索空间">时间级搜索空间</h3>
<p>单是轻量级的姿态模型在捕获全局信息和区分外观相似的关节方面存在困难。然而，考虑到相邻视频帧中的姿态是时间相关的，轻量级模型可以根据局部外观和之前帧的引导来估计关节的位置。</p>
<p><strong>时间特征融合</strong>是视频姿态估计任务的关键。以往关于时间融合的研究主要在两个方面有所不同，即<strong>融合操作和特征融合</strong>阶段。流行的<u>融合操作可能包括加法(Add)、乘法(Mul)和串接(Cat)等</u>。由于不同的姿态网络喜欢不同的融合操作，融合操作的选择是手工精心制作的。此外，采用不同的方法融合不同阶段的输入特征。一般来说，<u>低级特征可能包含更详细的局部信息，而高级特征可能包含更多的全局信息</u>。在以往的作品中，使用的特征级别主要是通过试错来选择的。而在ViPNAS中，我们允许网络在一次搜索中自动搜索最佳融合操作和特征融合的最佳阶段。</p>
<p>如图2所示，我们设计的时间特征融合模块包括两个输入，即先前框架的热图和当前框架<span class="math inline">\(t + 1\)</span>的特征。时域特征融合模块首先选择输入特征<span class="math inline">\(F^{t+1}_2\)</span> 的位置。来自相邻帧的姿态热图通过一个<span class="math inline">\(1 \times 1\)</span>卷积处理，然后一个双线性插值层来调整通道和分辨率(宽度和高度)，以匹配<strong>选择的</strong>特征<span class="math inline">\(F^{t+1}_2\)</span>。然后使用<strong>选择的</strong>融合算子(Cat)对热图和特征进行融合，再对融合算子进行<span class="math inline">\(1 \times 1\)</span>卷积处理，使融合后的特征(<span class="math inline">\(F^{t+1}_2\)</span>)与输入特征具有相同的形状。</p>
<p>我们对非关键帧的时间级搜索空间包括特征融合操作的<span class="math inline">\(N_O\)</span>种选择，例如添加(Add)、乘法(Mul)和连接(Cat)；以及和<span class="math inline">\(N_S\)</span>种选择的输入特征阶段，例如<span class="math inline">\(F_1\)</span>, <span class="math inline">\(F_2\)</span>, <span class="math inline">\(F_3\)</span>和<span class="math inline">\(F_4\)</span>。时间搜索空间的大小是<span class="math inline">\(\left(N_{O} \times N_{S}\right)^{T}\)</span>，不可能通过试错来优化。”</p>
<h3 id="vipnas的训练和搜索">ViPNAS的训练和搜索</h3>
<h4 id="s-vipnet的训练和搜索">S-ViPNet的训练和搜索</h4>
<p>基于3.2节定义的空间级搜索空间，我们使用[61]中的方法来训练超网络。采用三明治规则[60,61]和就地蒸馏[60,61]。然后对给定约束条件下的子网络进行抽样，在验证集上对每个子网络进行评估，从而搜索关键框架网络S-ViPNet的体系结构。</p>
<h4 id="t-vipnet的训练">T-ViPNet的训练</h4>
<p>在本节中，我们将介绍我们的ViPNAS的多帧传播训练方案。目标是在跨多个视频帧的姿态传播过程中，同时在空间和时间水平上优化整体模型的精度。总体目标函数可以表示为</p>
<p><span class="math display">\[
\min _{\theta_{\mathcal{T}}} \sum_{t=1}^{T} \sum_{\text {arch }^{t}} \mathcal{L}\left(\mathcal{T}\left(I^{t}, H^{t-1} ;\left\{\theta_{\mathcal{T}}, \operatorname{arch}^{t}\right\}\right)\right)
\]</span></p>
<p>其中，</p>
<p><span class="math display">\[
H^{t}= \begin{cases}\mathcal{T}\left(I^{t}, H^{t-1} ;\left\{\theta_{\lambda}, \operatorname{arch}^{t}\right\}\right), &amp; t \geq 1 \\ \mathcal{S}\left(I^{t} ;\left\{\theta_{\mathcal{S}}\right\}\right), &amp; t=0\end{cases}
\]</span></p>
<p><span class="math inline">\(\mathcal{S}\)</span>是关键帧模型S-ViPNet，其权值为<span class="math inline">\(\theta_{\mathcal{S}}\)</span>。在训练和搜索T-ViPNets时，它是预先训练和固定的。<span class="math inline">\(\mathcal{T}\)</span>是T-ViPNets的超网络，由<span class="math inline">\(\theta_{\mathcal{T}}\)</span>参数化。在训练过程中，我们从<span class="math inline">\(\mathcal{T}\)</span>中抽取架构<span class="math inline">\(\text{arch}^{t}\)</span>组成的子网络，并从超网络权值<span class="math inline">\(\theta_{\mathcal{T}}\)</span>中复制该架构的权值。对于每一帧<span class="math inline">\(t\)</span>，<span class="math inline">\(I^{t}\)</span>是输入图像，<span class="math inline">\(H^{t}\)</span>是预测的热图。我们使用MSE损耗函数<span class="math inline">\(\mathcal{L }\)</span>来测量每个非关键帧的目标热图和预测热图之间的差异.</p>
<figure>
<img src="https://x.arcto.xyz/m9uDUP/vipnas-fig-3.png" alt><figcaption>vipnas-fig-3</figcaption>
</figure>
<h4 id="自动计算分配">自动计算分配</h4>
<p>如上所述，不同框架的子网络(T-ViPNets)不一定共享相同的架构。在ViPNAS中，不同的模型复杂度被自动分配给不同的框架。 我们的目标是寻找一组子网络架构(<span class="math inline">\(\left\{\operatorname{arch}^{t}\right\}_{t=1: T}\)</span>)，在总体计算复杂度(Flops)约束C下优化总体平均精度(AP):</p>
<p><span class="math display">\[
\begin{aligned}
&amp;\max _{\text {arch }: T} \sum_{t=1}^{T} \operatorname{AP}\left(\mathcal{T}\left(I^{t}, H^{t-1} ;\left\{\theta_{\mathcal{T}}, \operatorname{arch}^{t}\right\}\right)\right) \\
&amp;\text { s.t. } \quad \sum_{t=1}^{T} \text { Flops }\left(\operatorname{arch}^{t}\right) \leq \mathrm{C}
\end{aligned}
\]</span></p>
<p>在搜索过程中，随机抽样满足给定约束的子网络，并评估验证集上的准确性。在Flops约束下，验证集上AP值最高的抽样子网络作为T-ViPNets。</p>
<h2 id="实验">实验🧪</h2>
<h3 id="数据集">数据集</h3>
<ul>
<li><p>COCO2017 Dataset</p></li>
<li><p>PoseTrack2018 Dataset</p></li>
</ul>
<h3 id="细节">细节</h3>
<h3 id="vipnas用于高效的视频姿态估计">ViPNAS用于高效的视频姿态估计</h3>
<figure>
<img src="https://x.arcto.xyz/tZ4DQV/vipnas-tab-1.png" alt><figcaption>vipnas-tab-1</figcaption>
</figure>
<p>表1:在PoseTrack2018验证集上与其他视频姿态估计方法进行了比较。ViPNAS实现了最先进的性能，显著降低了计算复杂度。</p>
<h3 id="vipnas用于基于图像的姿态估计">ViPNAS用于基于图像的姿态估计</h3>
<figure>
<img src="https://x.arcto.xyz/AJec0p/vipnas-tab-2.png" alt><figcaption>vipnas-tab-2</figcaption>
</figure>
<p>表2：对比COCO2017数据集。在COCO val2017 set和test-dev2017 set上，我们的方法在速度和准确性方面显著优于其他手工和NAS模型。“十字架”表示使用更强的人包围盒探测器(HTC[5])。</p>
<h3 id="消融实验">消融实验</h3>
<h2 id="结论">结论</h2>
<p>在本文中，我们提出了在线视频姿态估计的ViPNAS，在精度和计算成本之间进行权衡。ViPNAS自动为不同的帧分配计算资源(即Flops)，以实现整体优化。通过设计新的时空搜索空间，我们可以同时搜索CNN的架构和时间连接，即融合操作和特征融合点。经验实验证明，我们提出的ViPNAS成功地发现了在cpu实时性能上达到最先进精度的体系结构。</p>
<h2 id="cite">CITE🔗</h2>
<ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/weilaicxy22/article/details/117406595">ViPNAS: Efficient Video Pose Estimation via Neural Architecture Search论文解读</a></li>
</ul>
<h2 id="那...什么是nas">那...什么是NAS？</h2>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/60414004">NAS（神经结构搜索）综述</a></p></li>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/jinzhuojun/article/details/84698471">神经网络架构搜索（Neural Architecture Search）杂谈</a></p></li>
<li><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/146138419">神经架构搜索(NAS)2020最新综述：挑战与解决方案</a></p></li>
<li><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/45133026">一篇 NAS 的介绍</a></p></li>
<li><p>B站视频：神经网络结构搜索 <iframe src="//player.bilibili.com/player.html?aid=460871780&bvid=BV195411T7gX&cid=343774864&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></p></li>
<li><p><a target="_blank" rel="noopener" href="https://arxiv.org/abs/1812.03443">FBNet: Hardware-Aware Efficient ConvNet Design via Differentiable Neural Architecture Search</a></p></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://999795.xyz/2021/08/10/deep-dual-consecutive-network-for-human-pose-estimation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/upload/avatar.jpg">
      <meta itemprop="name" content="Christy">
      <meta itemprop="description" content="保持热情:)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一杯西瓜汁er🍉">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/08/10/deep-dual-consecutive-network-for-human-pose-estimation/" class="post-title-link" itemprop="url">【论文阅读】Deep Dual Consecutive Network for Human Pose Estimation</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-08-10 18:00:00" itemprop="dateCreated datePublished" datetime="2021-08-10T18:00:00+00:00">2021-08-10</time>
    </span>

  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>6.1k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>6 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>写在前：</p>
<p>记录📝</p>
<p>翻译</p>
</blockquote>
<h2 id="相关信息">相关信息💻</h2>
<blockquote>
<p>论文在CVPR2021</p>
<p>作者单位：浙江工商大学、南洋理工大学、浙江大学</p>
</blockquote>
<ul>
<li><p>DCPose</p></li>
<li><p>论文地址：<a target="_blank" rel="noopener" href="https://arxiv.org/abs/2103.07254">https://arxiv.org/abs/2103.07254</a></p></li>
<li><p>代码地址：<a target="_blank" rel="noopener" href="https://github.com/Pose-Group/DCPose">https://github.com/Pose-Group/DCPose</a></p></li>
</ul>
<h2 id="贡献点">贡献点💡</h2>
<ol type="1">
<li><p>提出一种新的双连续姿态估计框架。DCPose有效地融合了跨帧的双向时序线索，便于视频中的多人姿态估计任务。</p></li>
<li><p>在DCPose中设计了3个模块网络，以有效利用时间上下文:</p>
<ul>
<li>一种新的姿态时间合并网络，有效地跨帧聚合关键点和识别搜索范围</li>
<li>一个姿态残差融合网络，有效地计算跨帧的加权姿态残差</li>
<li>一个姿态矫正网络，利用改进的搜索范围和位姿残差信息更新位姿估计</li>
</ul></li>
<li><p>在PoseTrack2017和PoseTrack2018多帧人体姿态估计挑战中取得了SOTA</p></li>
</ol>
<h2 id="摘要">摘要🤓</h2>
<p>复杂情况下的多帧人体姿态估计具有挑战性。尽管最先进的人体关节检测器已经在静态图像上显示了显著的结果，但当我们将这些模型应用到视频序列时，它们的性能就会出现不足。普遍的缺点包括不能处理运动模糊、视频散焦或姿态遮挡，这是由于无法捕捉视频帧之间的时间依赖性。另一方面，直接使用传统的递归神经网络在空间上下文建模中会带来经验上的困难，特别是在处理姿态遮挡时。 在本文中，我们提出了一种新的多帧人体姿态估计框架，利用视频帧之间丰富的时间线索来促进关键点检测。在我们的框架中设计了三个模块化组件。姿态时间合并模块对关键点时空上下文进行编码以生成有效的搜索范围，而姿态残差融合模块在两个方向上计算加权姿态残差。然后通过我们的姿势校正网络进行处理，以有效地精炼姿势估计。在大规模基准数据集PoseTrack2017和PoseTrack2018的多帧人体姿态估计挑战中，达到SOTA。我们已经发布了我们的代码，希望能启发未来的研究。</p>
<h2 id="相关工作">相关工作🤔</h2>
<h3 id="基于图像的多人姿态估计">基于图像的多人姿态估计</h3>
<p>框架大致可以分为两类：</p>
<ul>
<li><p>自顶向下</p></li>
<li><p>自下而上</p></li>
</ul>
<h3 id="基于视频的多人姿态估计">基于视频的多人姿态估计</h3>
<p>直接将现有的图像级方法应用于视频序列会产生不满意的预测，主要是因为无法捕获视频帧之间的时间依赖性。因此，这些模型不能处理在视频输入中经常遇到的运动模糊、视频散焦或姿态遮挡。</p>
<ul>
<li><p>[28, 31, 42]计算每个连续帧之间的密集光流，并且流表示为对齐预测提供额外的线索。然而，运动模糊、离焦或遮挡现象会阻碍光流计算并影响性能。</p></li>
<li><p>[25]用卷积lstm替代[41]的卷积姿态机，用于建模时间信息和空间上下文。这哥主要缺点是受到遮挡的严重影响。</p></li>
<li><p>[3]提出通过一个扭曲机制从稀疏标记的视频中学习一个有效的视频姿态检测器，并被证明是非常成功的，在posetrack排行榜上占据了很长一段时间。</p></li>
<li><p>[39]用时间卷积扩展HRNet[33]，提出3DHRNet，成功地联合处理姿态估计和跟踪。</p></li>
</ul>
<h2 id="方法">方法</h2>
<figure>
<img src="https://x.arcto.xyz/e4lkt7/DCPose-fig-2.png" alt><figcaption>DCPose-fig-2</figcaption>
</figure>
<p>该论文提出的DCPose的pipeline如图2所示。 为了改进当前帧<span class="math inline">\(F_{c}\)</span>的关键点检测，我们利用了来自前一帧<span class="math inline">\(F_{p}\)</span>和未来帧<span class="math inline">\(F_{n}\)</span>的额外时间信息。<span class="math inline">\(F_{p}\)</span>和<span class="math inline">\(F_{n}\)</span>是从一个帧窗口<span class="math inline">\([c-T, c+T]\)</span>中选取的，其中<span class="math inline">\(p \in[c-T, c)\)</span>和<span class="math inline">\(n \in(c, c+T]\)</span>分别表示帧索引。 <span class="math inline">\(F_{c}\)</span>中的每个人的边界框首先由人体检测器获得。每个边界框被放大25%，并进一步用于在<span class="math inline">\(F_{p}\)</span>和<span class="math inline">\(F_{n}\)</span>中裁剪同一个人。因此，视频中的个体<span class="math inline">\(i\)</span>将由裁剪的视频段组成，我们将其表示为<span class="math inline">\(\operatorname{Clip}_{i}(p, c, n)\)</span> 。然后，将<span class="math inline">\(\operatorname{Clip}_{i}(p, c, n)\)</span>送入骨干网络，该骨干网络用于输出初步关键点热图估计<span class="math inline">\(\mathbf{h}_{i}(p, c, n)\)</span>。然后，姿势热图<span class="math inline">\(\mathbf{h}_{i}(p, c, n)\)</span>通过两个模块网络（姿态时间合并(PTM)和姿态剩余融合(PRF)）并行处理。 PTM输出我<span class="math inline">\(\Phi_{i}(p, c, n)\)</span>，对空间聚合进行编码； PRF计算<span class="math inline">\(\Psi_{i}(p, c, n)\)</span>，它捕获两个方向上的姿态残差。</p>
<p>两个特征张量<span class="math inline">\(\Phi_{i}(p, c, n)\)</span>和<span class="math inline">\(\Psi_{i}(p, c, n)\)</span>同时输入到姿态校正网络(PCN)，在初始姿态估计的基础上进行优化和改进。接下来，我们将详细介绍这三个关键组成部分。</p>
<h3 id="姿态时间合并">姿态时间合并</h3>
<p>姿势时间合并(PTM)的动机来自以下观察和启发。</p>
<ul>
<li><p>1)尽管现有的姿态估计方法(如[33,12])在视频上性能下降，但我们观察到它们的预测仍然为逼近关键点空间位置提供有用的信息。</p></li>
<li><p>2)另一个启发是关于时间一致性的，即个体的姿势不会在非常少的帧间隔(通常是每帧1/60到1/25秒)中发生戏剧性和突然的变化。</p></li>
</ul>
<p>因此，我们设计PTM来编码基于初始预测(来自骨干网络)的关键点空间上下文，提供一个压缩的搜索范围，便于在有限范围内的位姿预测的细化和校正。</p>
<p>对于第i个人，骨干网络返回初始关键点热图<span class="math inline">\(\mathbf{h}_{i}(p)\)</span>，<span class="math inline">\(\mathbf{h}_{i}(c)\)</span>，<span class="math inline">\(\mathbf{h}_{i}(n)\)</span>。简单地说，我们可以通过直接求和<span class="math inline">\(\mathbf{H}_{i}(p, c, n)=\mathbf{h}_{i}(p)+\mathbf{h}_{i}(c)+\mathbf{h}_{i}(n)\)</span>的方式来合并它们。然而，我们期望从<span class="math inline">\(F_{p}\)</span>和<span class="math inline">\(F_{n}\)</span>中提取的额外信息与它们到当前帧<span class="math inline">\(F_{c}\)</span>的时间距离成反比。 用公式表示为:</p>
<p><span class="math display">\[
\mathbf{H}(p, c, n)=\frac{n-c}{n-p} \mathbf{h}_{i}(p)+\mathbf{h}_{i}(c)+\frac{c-p}{n-p} \mathbf{h}_{i}(n)
\]</span></p>
<p>其中，<span class="math inline">\(p,c,N\)</span>是帧索引，我们显式地为<strong>时间上更接近当前帧的帧分配更高的权重</strong>。</p>
<p>卷积运算用于调整(特征)权重的，我们利用卷积神经网络来实际实现上述公式的思想。但是，在计算单个节点合并关键点热图时，将所有节点通道都包括在内，会造成冗余。</p>
<p>例如，在编码左手腕的空间上下文的时候，在不同时间涉及头部、脚踝等其他关节，很可能没有任何轴承，甚至可能产生混淆。因此，对于每个关节，我们只包含它自己特定的时间信息来计算它的合并关键点热图。这是通过一组卷积实现的。我们根据关节重新组合关键点热图<span class="math inline">\(\mathbf{h}_{i}(p), \mathbf{h}_{i}(c), \mathbf{h}_{i}(n)\)</span>，并将其叠加成一个特征张量<span class="math inline">\(\phi_{i}\)</span>，即</p>
<p><span class="math display">\[
\phi_{i}(p, c, n)=\bigoplus_{j=1}^{N} \frac{n-c}{n-p} \mathbf{h}_{i}^{j}(p) \oplus \mathbf{h}_{i}^{j}(c) \oplus \frac{c-p}{n-p} \mathbf{h}_{i}^{j}(n)
\]</span></p>
<p>其中，<span class="math inline">\(\oplus\)</span> 表示连接操作，上标j索引为N个关节中的第j个关节。然后，特征张量<span class="math inline">\(\phi_{i}\)</span>被送入一堆<span class="math inline">\(3 \times 3\)</span>的残差块（改编自RSN中的残差步块）中，生成合并的关键点热图<span class="math inline">\(\Phi_{i}(p, c, n)\)</span>如下</p>
<p><span class="math display">\[
\phi_{i}(p, c, n) \underset{\text { residual blocks }}{\stackrel{\text { stack of } 3 \times 3}{\longrightarrow}} \Phi_{i}(p, c, n)
\]</span></p>
<p>这种组卷积不仅消除了无关关节的干扰，而且消除了冗余，减少了所需模型参数的数量。直接对Eq. 1中的关键点热图求和也是有好处的，因为分组CNN操作允许在像素级有不同的权重，有利于学习端到端模型。根据我们的PTM聚合关键点热图的可视化结果如图1所示。</p>
<figure>
<img src="https://x.arcto.xyz/jXv5_y/DCPose-fig-1.png" alt><figcaption>DCPose-fig-1</figcaption>
</figure>
<center>
图1：姿势时间合并(PTM)网络的说明
</center>
<p>(a):数据集中的原始视频序列，我们的目标是检测当前帧<span class="math inline">\(F_{c}\)</span>中的姿态。</p>
<p>(b):将原始视频序列中的每个人分配到一块裁剪中，一个单人关节检测器对关键点热图进行初步估计(如图所示为右手腕)。</p>
<p>(c)-left:右手腕的合并关键点热图，由我们的PTM网络通过编码关键点空间上下文生成。颜色强度编码空间聚集。 (c)-right:合并关键点热图的放大视图。</p>
<h3 id="姿态残差融合">姿态残差融合</h3>
<p>与PTM中关键点热图的空间聚集类似，我们的姿态残差融合(PRF)分支旨在计算姿态残差，这将作为额外的有利时间线索。给定关键点热图<span class="math inline">\(\mathbf{h}_{i}(p), \mathbf{h}_{i}(c), \mathbf{h}_{i}(n)\)</span>，我们计算姿态残差特征如下：</p>
<p><span class="math display">\[
\psi_{i}(p, c)=\mathbf{h}_{i}(c)-\mathbf{h}_{i}(p)
\]</span></p>
<p><span class="math display">\[
\psi_{i}(c, n)=\mathbf{h}_{i}(n)-\mathbf{h}_{i}(c)
\]</span></p>
<p><span class="math display">\[
\begin{aligned}
\psi_{i} &amp;=\psi_{i}(p, c) \oplus \psi_{i}(c, n) \\
&amp; \oplus \frac{n-c}{n-p} \psi_{i}(p, c) \oplus \frac{c-p}{n-p} \psi_{i}(c, n)
\end{aligned}
\]</span></p>
<p><span class="math inline">\(\psi_{i}\)</span>融合原始的姿态残差<span class="math inline">\(\psi_{i}(p, c)\)</span>，<span class="math inline">\(\psi_{i}(c, n)\)</span>，以及它们的加权版本（权重是根据时间距离得到的）。与PTM类似，<span class="math inline">\(\psi_{i}\)</span>也经过一堆<span class="math inline">\(3 \times 3\)</span>的残差块处理，得到最终的姿态残差特征<span class="math inline">\(\Psi_{i}(p, c, n)\)</span>如下：</p>
<p><span class="math display">\[
\psi_{i}(p, c, n) \underset{\text { residual blocks }}{\stackrel{\text { stack of } 3 \times 3}{\longrightarrow}} \Psi_{i}(p, c, n)
\]</span></p>
<h3 id="姿态矫正网络">姿态矫正网络</h3>
<p>给定合并的关键点热图<span class="math inline">\(\Phi_{i}(p, c, n)\)</span>和姿态残差特征张量<span class="math inline">\(\Psi_{i}(p, c, n)\)</span>，我们的姿态校正网络被用来精炼初始关键点热图的估计<span class="math inline">\(h_{i}(c)\)</span>，产生调整后的最终关键点热图。</p>
<p>首先，姿态残差特征张量<span class="math inline">\(\Psi_{i}(p, c, n)\)</span>作为5个并行的具有不同扩张率<span class="math inline">\(d \in\{3,6,9,12,15\}\)</span>的卷积层的输入。这个计算给出了后续可变形卷积层的五个核的五组偏移量。偏移量计算公式为:</p>
<p><span class="math display">\[
\Phi_{i}(p, c, n) \oplus \Psi_{i}(p, c, n) \underset{\text { residual blocks }}{\stackrel{\text { stack of } 3 \times 3}{\longrightarrow}} \underset{\text {convolution layers }}{\stackrel{\text { dilation rate } d}{\longrightarrow}} O_{i, d}
\]</span></p>
<p>不同的扩张率对应不同的有效感受野大小，扩张率越大，感受野的范围越大。较小的膨胀率聚关注局部的表现，这对于捕捉微妙的运动上下文更加敏感。相反，使用大的膨胀率允许我们对全局表示进行编码，并捕获更大空间范围的相关信息。除了偏移量计算，我们将合并关键点热图提供给相似的卷积层，得到5组掩模<span class="math inline">\(M_{d}\)</span>为</p>
<p><span class="math display">\[
\Phi_{i}(p, c, n) \oplus \Psi_{i}(p, c, n) \underset{\text { residual blocks }}{\stackrel{\text { stack of } 3 \times 3}{\longrightarrow}} \underset{\text {convolution layers }}{\stackrel{\text { dilation rate } d}{\longrightarrow}} M_{i, d}
\]</span></p>
<p>在offset <span class="math inline">\(O\)</span>和mask <span class="math inline">\(M\)</span>计算中，两种膨胀卷积结构的参数是独立的。掩码Md可以看作是卷积核的权矩阵。</p>
<p>我们通过可变形卷积<span class="math inline">\(V2\)</span>网络（DCN v2）在不同的膨胀率d实现位姿校正模块。</p>
<p>DCN v2接受以下输入： 1. 合并关键点热图<span class="math inline">\(\Phi_{i}(p, c, n)\)</span> 2. 核偏移<span class="math inline">\(O_{i, d}\)</span> 3. 掩模<span class="math inline">\(M_{i, d}\)</span></p>
<p>并输出膨胀率d时第i个人的姿态热图: <span class="math display">\[
\left(\Phi_{i}(p, c, n), O_{i, d}, M_{i, d}\right) \underset{\text {DCN v2}}{\stackrel{\text { dilation rate } d}{\longrightarrow}} \mathbf{H}_{i, d}(c)
\]</span></p>
<p>对5个膨胀率的5个输出进行汇总并归一化，得出第i个人的最终姿态预测：</p>
<p><span class="math display">\[
\sum_{d \in\{3,6,9,12,15\}} \mathbf{H}_{i, d}(c) \stackrel{\text { normalization }}{\longrightarrow} \mathbf{H}_{i}(c)
\]</span></p>
<p>最后，对每个人<span class="math inline">\(i\)</span>执行上述程序。通过有效地利用DCPose框架中的来自<span class="math inline">\(F_{p}\)</span>和<span class="math inline">\(F_{n}\)</span>的额外线索，最终的姿态热图得到增强和改进。</p>
<h3 id="实现细节">实现细节</h3>
<h4 id="backbone">BackBone</h4>
<ul>
<li>我们采用最先进的深度高分辨率网络(HRNet-W48[33])作为我们的骨干关节检测器，因为它在单图像姿态估计方面的优越性能将有利于我们的方法。</li>
</ul>
<h4 id="损失函数">损失函数</h4>
<p>使用标准姿态估计损失函数作为我们的代价函数。训练的目的是最小化所有关节的预测和Ground Truth热图之间的总欧氏距离或<span class="math inline">\(L2\)</span>距离。代价函数定义为 <span class="math display">\[
L=\frac{1}{N} * \sum_{j=1}^{N} v_{j} *\|G(j)-P(j)\|^{2}
\]</span></p>
<p>其中，<span class="math inline">\(G(j),P(j),vj\)</span>分别表示关节j的Ground Truth热图、预测热图和可见性，训练时关节总数设为N = 15。地面真实热图是通过以关节位置为中心的2D高斯生成的。</p>
<h2 id="实验">实验🧪</h2>
<h3 id="实验设置">实验设置</h3>
<h4 id="数据集">数据集</h4>
<ul>
<li><p>PoseTrack2017</p></li>
<li><p>PoseTrack2018</p></li>
</ul>
<h3 id="实验结果">实验结果</h3>
<h4 id="posetrack2017数据集上的结果">PoseTrack2017数据集上的结果</h4>
<figure>
<img src="https://x.arcto.xyz/OuXrLL/DCPose-result-posetrack2017.png" alt><figcaption>DCPose-result-posetrack2017</figcaption>
</figure>
<h4 id="posetrack2018数据集上的结果">PoseTrack2018数据集上的结果</h4>
<figure>
<img src="https://x.arcto.xyz/WrMQp2/DCPose-result-posetrack2018-1.png" alt><figcaption>DCPose-result-posetrack2018-1</figcaption>
</figure>
<figure>
<img src="https://x.arcto.xyz/Mhzyyj/DCPose-result-posetrack2018-2.png" alt><figcaption>DCPose-result-posetrack2018-2</figcaption>
</figure>
<h2 id="结论">结论</h2>
<p>在本文中，我们提出了一种双连续网络用于多帧人的姿态估计，该网络在基准数据集上显著优于现有的先进方法。我们设计了一个姿态时间合并和姿态残差融合模块，允许从相邻帧中提取丰富的辅助信息，为定位关键点提供本地化和姿态残差校正搜索范围。我们的姿态校正网络使用多个有效的接受域来优化这个搜索范围内的姿态估计，取得了显著的改进，并且能够处理复杂的场景。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://999795.xyz/2021/08/08/human-pose-regression-with-residual-log-likelihood-estimation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/upload/avatar.jpg">
      <meta itemprop="name" content="Christy">
      <meta itemprop="description" content="保持热情:)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一杯西瓜汁er🍉">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/08/08/human-pose-regression-with-residual-log-likelihood-estimation/" class="post-title-link" itemprop="url">【论文阅读】Human Pose Regression with Residual Log-likelihood Estimation</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-08-08 12:00:00" itemprop="dateCreated datePublished" datetime="2021-08-08T12:00:00+00:00">2021-08-08</time>
    </span>

  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>352</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>写在前： 记录📝</p>
</blockquote>
<h2 id="相关信息">相关信息💻</h2>
<blockquote>
<p>论文在ICCV2021</p>
<p>发表单位：上海交通大学、香港中文大学、商汤科技</p>
</blockquote>
<ul>
<li>论文地址：<a target="_blank" rel="noopener" href="https://arxiv.org/abs/2107.11291">https://arxiv.org/abs/2107.11291</a></li>
<li>代码地址：<a target="_blank" rel="noopener" href="https://github.com/Jeff-sjtu/res-loglikelihood-regression">https://github.com/Jeff-sjtu/res-loglikelihood-regression</a></li>
</ul>
<blockquote>
<p>读完这篇文章有点一头雾水，一是很长一段时间没有进行论文的阅读了，二是感觉里面充斥着大量的统计知识。</p>
<p>偶然在网上遇到了别人写得很不错的笔记，这几天也正在更新，放在这里。</p>
<p>身为这个领域的小白，多学习，看看别人都是怎么思考的。</p>
</blockquote>
<h2 id="cite">CITE🔗</h2>
<p>遇到的别人写得很不错的笔记 - <a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/395521994">论文笔记及思考：Human Pose Regression with Residual Log-likelihood Estimation(ICCV 2021 Oral)</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://999795.xyz/2021/08/08/pose-recognition-with-cascade-transformers/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/upload/avatar.jpg">
      <meta itemprop="name" content="Christy">
      <meta itemprop="description" content="保持热情:)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一杯西瓜汁er🍉">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/08/08/pose-recognition-with-cascade-transformers/" class="post-title-link" itemprop="url">【论文阅读】Pose Recognition with Cascade Transformers</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-08-08 08:30:00" itemprop="dateCreated datePublished" datetime="2021-08-08T08:30:00+00:00">2021-08-08</time>
    </span>

  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>3.3k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>3 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>写在前： 记录📝</p>
</blockquote>
<h2 id="相关信息">相关信息💻</h2>
<blockquote>
<p>论文发表在CVPR2021</p>
<p>发表单位：中国科学院大学、清华大学、圣迭戈加利福尼亚大学</p>
</blockquote>
<ul>
<li><p>论文地址：<a target="_blank" rel="noopener" href="http://arxiv.org/abs/2104.06976">http://arxiv.org/abs/2104.06976</a></p></li>
<li><p>代码地址：<a target="_blank" rel="noopener" href="https://github.com/mlpc-ucsd/PRTR">https://github.com/mlpc-ucsd/PRTR</a></p></li>
</ul>
<h2 id="主要创新点">主要创新点</h2>
<ul>
<li><strong>基于Transformer</strong>的人体姿态估计（论文中说是第一篇）</li>
</ul>
<h2 id="贡献点">贡献点💡</h2>
<blockquote>
<p>根据论文</p>
</blockquote>
<ol type="1">
<li><p>提出了一种通过构建级联Transformers的基于回归的人体姿态识别方法。</p></li>
<li><p>两种类型的级联Transformer:</p>
<ul>
<li>two-stage，第2个Transformer使用第1个Transformer检测到的图像patch</li>
<li>end-to-end，使用了spatial Transformer network (STN)</li>
</ul></li>
<li><p>关键点的可视化</p></li>
</ol>
<h2 id="方法">方法</h2>
<p>两种Transformer如下：</p>
<img src="https://x.arcto.xyz/r77JrM/prtr-2-stage.png" title="fig:" alt="prtr-2-stage">
<center>
[two-stage的]
</center>
<p><strong>two-stage</strong>： TRansformer (PRTR) 两阶段变体的姿态识别架构。 - 首先，利用全图图像特征和绝对位置编码，人体检测Transformer使用一组学习的人查询检测图中的人。 - 在过滤背景查询后，我们用预测框裁剪原始图像。 - 将裁剪后的图像和相对于相应边界框的位置编码一起输入一个关键点检测Transformer。 - 最后，通过<u>匈牙利算法</u>从一个更大的关键点查询集合中读出J个关键点。关键点检测Transformer以矢量化的方式处理所有非背景关键点proposals。h(0)表示假设(查询)，通过Transformer解码器将特征向量提炼为最终的预测y^。</p>
<img src="https://x.arcto.xyz/6FD1so/prtr-end-to-end.png" title="fig:" alt="prtr-end-to-end">
<center>
[end-to-end的]
</center>
<p><strong>end-to-end</strong>：基于TRansformer (PRTR)端到端变体的姿态识别架构。对于端到端学习，我们没有在RGB图像级别上进行裁剪，而是对骨干生成的多层特征采用可微分双线性采样，为关键点检测Transformer提供了放大和多层次的特征。</p>
<h3 id="人体检测transformer">人体检测Transformer</h3>
<ul>
<li>自顶向下的方式解决多人姿态识别问题，基于DEtection Transformer (DETR)，采用Transformer架构作为第一阶段人体检测的backbone。</li>
<li>在编码器阶段，由CNN生成的图像特征被扁平化并送入Transformer编码器以生成上下文化的图像特征</li>
<li>在解码器阶段，给定一组固定的学习到的query embedding（查询嵌入）作为输入，Transformer解码器根据图像特征的上下文推理目标之间的关系，并行输出所有的目标queries。</li>
<li>使用<strong>分类头</strong>将目标分类为人或背景（空集），并使用4通道的<strong>回归头</strong>预测边界框。</li>
</ul>
<h3 id="关键点检测transformer">关键点检测Transformer</h3>
<p>得到边界框后，对RGB图像进行裁剪，并使用另一个CNN主干来得到人的特征图。因为只有匹配的查询涉及计算关键点检测Transformer的损失，所以我们过滤掉了不匹配的查询。像人检测的过程中,我们使用的encoder-decoder架构Transformer预测并行的方式，但我们使用另一组查询(Q代表数量)。最后，一个分类头预测包括J种类型的关节、背景(∅)、2声道回归头输出每个关键点的坐标。</p>
<p>由于PRTR推断出比ground truth(J代表数量)更大的预测数量，我们需要找到它们之间的匹配来计算损失。我们将该匹配问题表述为最优二部匹配问题，该问题可由<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/96229700">匈牙利算法</a>有效地求解。具体来说，我们试图找到一个内射函数σ∈[J]→[Q]，它首先以离散的方式使匹配代价C最小:</p>
<p><span class="math display">\[
\mathcal{C}=\underset{\sigma}{\arg \min } \sum_{i}^{J} \mathcal{C}\left(y_{i}, \hat{y}_{\sigma(i)}\right)
\]</span></p>
<p>其中，<span class="math inline">\(\hat{y}_{\sigma(i)}\)</span> 代表与第i个关键点相匹配的预测。</p>
<p>在训练阶段，我们混合使用分类概率和坐标偏差来匹配查询。例如，第i个关键点与其匹配的查询σ(i)的代价函数为：</p>
<p><span class="math display">\[
\mathcal{C}_{i}=-\hat{p}_{\sigma(i)}\left(c_{i}\right)+\left\|b_{i}-\hat{b}_{\sigma(i)}\right\|
\]</span></p>
<p>其中，<span class="math inline">\(\hat{p}_{\sigma(i)}\)</span> 是查询的类概率， <span class="math inline">\(c_{i}\)</span> 是第i个关键点的类标签。然而，在推断阶段，我们不能访问ground-truth关键点坐标，因此我们只使用分类概率将J原型关键点与查询匹配。所以，第i个关键点的匹配代价可以简单地表述为： <span class="math display">\[
\mathcal{C}_{i}=-\hat{p}_{\sigma(i)}\left(c_{i}\right)
\]</span></p>
<p>二部匹配算法后，返回匹配的J个关键点作为预测。 模型的损失函数是通过对匹配查询，将方程2中的负概率替换为负对数似然<span class="math inline">\(-\log \hat{p}_{\sigma(i)}\left(c_{i}\right)\)</span>得到的。对于不匹配的查询，我们只反向传播分类损失。为了解决∅class造成的类失衡，我们将其对数概率项权重设为0.1。</p>
<h3 id="使用-stn-的多层裁剪">使用 STN 的多层裁剪</h3>
<p>在前一节中，我们介绍了一个两阶段的pipeline。然而，在端到端理念下，我们希望模型是端到端可调的，以利用人体检测和关键点识别任务之间的协同作用。为此，我们合并了<strong>STN</strong>，直接从第一个CNN骨干生成的特征图中裁剪出关键点检测Transformer所需的图像特征。这种裁剪操作不仅对特征映射是可微的，而且对边界框坐标也是可微的。</p>
<p>例如，由<span class="math inline">\(b = \left(x_{\text {left }}, x_{\text {right }}, y_{\text {top }}, x_{\text {down }}\right)\)</span>生成的<span class="math inline">\(w × h\)</span>网格可以表示为:</p>
<p><span class="math display">\[
x_{i}=\frac{w-i}{w} x_{\mathrm{left}}+\frac{i}{w} x_{\mathrm{right}}
\]</span></p>
<p><span class="math display">\[
y_{j}=\frac{h-j}{h} y_{\mathrm{top}}+\frac{j}{h} y_{\mathrm{down}}
\]</span></p>
<p>其中，<span class="math inline">\(b\)</span>相对于原始图像，<span class="math inline">\(w × h\)</span>为关键点检测Transformer所需的特征图尺寸。 为了减轻关键点识别中常见的分辨率挑战，我们使用<strong>双线性核</strong>将网格应用于CNN主干不同中间层生成的不同尺度的特征图。 用U表示原始的W × H特征图，可微采样过程可以表示为: <span class="math display">\[
V_{i j}=\sum_{m, n} U_{n m} \max \left(0,1-\left|x_{i}-m\right|\right) \max \left(0,1-\left|y_{j}-n\right|\right)
\]</span></p>
<p>在得到一系列相同大小的图像特征后，我们将它们连接成一个单一的特征图，用于关键点检测Transformer。这种多层裁剪变体<strong>图[end-to-end]</strong>所示。</p>
<h2 id="实验">实验🧪</h2>
<h3 id="实验设置">实验设置</h3>
<h4 id="数据集">数据集</h4>
<ul>
<li>COCO Keypoint Detection task</li>
<li>MPII Human Pose Dataset</li>
</ul>
<h4 id="评价标准">评价标准</h4>
<ul>
<li>Object Keypoint Similarity (OKS) for COCO</li>
<li>Percentage of Correct Keypoints (PCK) for MPII</li>
</ul>
<h3 id="实验结果">实验结果</h3>
<ul>
<li>COCO dataset <img src="https://x.arcto.xyz/YElJVU/prtr-coco-result-1.png" alt="prtr-coco-result-1"> <img src="https://x.arcto.xyz/mQwSwv/prtr-coco-result-2.png" alt="prtr-coco-result-2"></li>
<li>MPII val dataset <img src="https://x.arcto.xyz/CRnCCr/prtr-mpii-result.png" alt="prtr-mpii-result"></li>
</ul>
<h2 id="参考链接">参考链接🔗</h2>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.yuque.com/jinluzhang/researchblog/prtr">Pose Recognition with Cascade Transformers 论文笔记</a></li>
</ul>
<h3 id="回顾">回顾</h3>
<ul>
<li>End-to-end object detection with transformers（DETR）ECCV 2020</li>
<li>Cascaded pose regression（step-by-step regression）</li>
<li>Locality-constrained spatial transformer network for video crowd counting.(STN)</li>
</ul>
<blockquote>
<p>⬆️这些还需要再去看看补充一下</p>
</blockquote>
<h3 id="什么是transformer">什么是Transformer</h3>
<ul>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/82312421">十分钟理解Transformer</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/54356280">BERT大火却不懂Transformer？读这一篇就够了</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/48508221">详解Transformer （Attention Is All You Need）</a></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://999795.xyz/2021/08/05/next/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/upload/avatar.jpg">
      <meta itemprop="name" content="Christy">
      <meta itemprop="description" content="保持热情:)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一杯西瓜汁er🍉">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/08/05/next/" class="post-title-link" itemprop="url">使用NexT主题的博客更新日志</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-08-05 16:00:00" itemprop="dateCreated datePublished" datetime="2021-08-05T16:00:00+00:00">2021-08-05</time>
    </span>

  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>357</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>写在前： 本小白使用的是Hexo和NexT主题搭建的博客 版本说明：hexo 5.4.0、hexo-theme-next 8.6.1</p>
</blockquote>
<h1 id="next初步">NexT初步</h1>
<h2 id="next安装">NexT安装</h2>
<blockquote>
<p>🔗 https://github.com/next-theme/hexo-theme-next</p>
</blockquote>
<ul>
<li>提倡使用npm安装</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd hexo-site</span><br><span class="line">npm install hexo-theme-next</span><br></pre></td></tr></table></figure>
<h2 id="next配置">NexT配置</h2>
<blockquote>
<p>🔗 https://theme-next.js.org/docs/getting-started/configuration</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 通过 npm 安装</span><br><span class="line">cp node_modules/hexo-theme-next/_config.yml _config.next.yml </span><br></pre></td></tr></table></figure>
<h1 id="其他设置">其他设置</h1>
<h2 id="中文设置">中文设置</h2>
<p>在站点配置文件中， <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># Site</span><br><span class="line">author: Christy</span><br><span class="line">language: zh-CN</span><br></pre></td></tr></table></figure></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://999795.xyz/2021/03/24/git/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/upload/avatar.jpg">
      <meta itemprop="name" content="Christy">
      <meta itemprop="description" content="保持热情:)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一杯西瓜汁er🍉">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/03/24/git/" class="post-title-link" itemprop="url">git拉取远程分支到本地</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-03-24 16:00:00" itemprop="dateCreated datePublished" datetime="2021-03-24T16:00:00+00:00">2021-03-24</time>
    </span>

  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>281</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>参考： https://blog.csdn.net/carfge/article/details/79691360</p>
</blockquote>
<p>首先，进入本地仓库</p>
<ol type="1">
<li>将本地仓库与远程仓库建立链接</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin git@github.com:user/repo.git</span><br></pre></td></tr></table></figure>
<ol start="2" type="1">
<li>远程分支拉取到本地</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git fetch origin dev-op(远程分支名称)</span><br></pre></td></tr></table></figure>
<ol start="3" type="1">
<li>在本地创建新分支dev并切换到该分支</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b dev-op(本地分支名称) origin/dev-op(远程分支名称)</span><br></pre></td></tr></table></figure>
<ol start="4" type="1">
<li>把远程分支dev-op上的内容拉取到本地仓库</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull origin dev-op(远程分支名称)</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://999795.xyz/2020/12/13/bad-sql-grammar-nested-exception-is-java.sql.sqlsyntaxerrorexception-you-have-an-error-in-your-sql-syntax-check-the-manual-that-corresponds-to-your-mysql-server-version-for-the-right-syntax-to-use-near-order-order_no-uid-addr_id/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/upload/avatar.jpg">
      <meta itemprop="name" content="Christy">
      <meta itemprop="description" content="保持热情:)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一杯西瓜汁er🍉">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/12/13/bad-sql-grammar-nested-exception-is-java.sql.sqlsyntaxerrorexception-you-have-an-error-in-your-sql-syntax-check-the-manual-that-corresponds-to-your-mysql-server-version-for-the-right-syntax-to-use-near-order-order_no-uid-addr_id/" class="post-title-link" itemprop="url">bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'order (order_no, `uid`, addr_id, </a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-12-13 16:00:00" itemprop="dateCreated datePublished" datetime="2020-12-13T16:00:00+00:00">2020-12-13</time>
    </span>

  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>932</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>记录专业实践过程中踩的坑</p>
</blockquote>
<p>在订单表里添加记录的时候，显示报错如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#x27;order (order_no, `uid`, addr_id, </span><br><span class="line">      amount, `type`, freight, </span><br><span class="line">      `status`&#x27; at line 1</span><br><span class="line">; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#x27;order (order_no, `uid`, addr_id, </span><br><span class="line">      amount, `type`, freight, </span><br><span class="line">      `status`&#x27; at line 1v</span><br><span class="line">...</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>经过排查，发现<code>order</code>是<code>sql</code>的保留字段（在排序的时候用到）；</p>
<p>由于订单表的名字也为<code>order</code>，再加上mapper是由mybatis自动生成的，所以这个冲突需要手动解决一下。</p>
<p>在<code>OrderMapper.xml</code>文件中，找到 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">order</span> (order_no, `uid`, addr_id, </span><br><span class="line">     amount, `type`, freight, </span><br><span class="line">     `status`, payment_time, delivery_time, </span><br><span class="line">     finish_time, close_time, updated, </span><br><span class="line">     created)</span><br></pre></td></tr></table></figure> 将其中的<code>order</code>加上<code></code> `即可 即 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> `<span class="keyword">order</span>` (order_no, `uid`, addr_id, </span><br><span class="line">     amount, `type`, freight, </span><br><span class="line">     `status`, payment_time, delivery_time, </span><br><span class="line">     finish_time, close_time, updated, </span><br><span class="line">     created)</span><br></pre></td></tr></table></figure></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://999795.xyz/2020/12/06/anaconda-vscode-pytorch/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/upload/avatar.jpg">
      <meta itemprop="name" content="Christy">
      <meta itemprop="description" content="保持热情:)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一杯西瓜汁er🍉">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/12/06/anaconda-vscode-pytorch/" class="post-title-link" itemprop="url">Anaconda+VSCode+PyTorch的配置</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-12-06 16:00:00" itemprop="dateCreated datePublished" datetime="2020-12-06T16:00:00+00:00">2020-12-06</time>
    </span>

  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>3.7k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>3 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>记录一次Anaconda+VSCode+PyTorch的配置</p>
<p>操作系统为macOS Catalina 10.15.7</p>
<p>更新：</p>
<blockquote>
<p>由于需要GPU，在下载Anaconda和PyTorch中，也会附带说明了在windows10的操作。</p>
<p>其他地方都是按照MacOS来记录的。</p>
</blockquote>
</blockquote>
<h3 id="下载anaconda">下载Anaconda</h3>
<h4 id="先去官网或者清华镜像站下载anaconda或者miniconda">先去官网或者清华镜像站下载Anaconda或者Miniconda</h4>
<h5 id="官网链接">官网链接</h5>
<p><a target="_blank" rel="noopener" href="https://www.anaconda.com/products/individual#Downloads" title="https://www.anaconda.com/products/individual#Downloads">https://www.anaconda.com/products/individual#Downloads</a></p>
<p>有win、mac、linux的版本选择，操作系统是什么就选择对应的就好啦~</p>
<p><strong>例如 Windows10：</strong></p>
<p>我直接在官网上下载的，也可以去清华镜像站找对应的版本。</p>
<p><strong>注意：</strong>在安装过程中，有一步需要将<strong>“添加到PATH”勾选上！</strong></p>
<p>一定要勾选上（尽管勾选之后说明文字会标红），不然后面配置稍有些麻烦。</p>
<h5 id="通过镜像下载">通过镜像下载</h5>
<p>如果在官网的下载速度较慢，可以去清华镜像站下载。下面以anaconda的安装为例。（安装miniconda也是同样操作） <a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/">https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/</a>￼ 找自己对应的操作系统，和需要的版本，进行下载。</p>
<p><strong>例如 Mac OS：</strong> 我用到的是Anaconda3-2020.11-MacOSX-x86_64.pkg，<a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/Anaconda3-2020.11-MacOSX-x86_64.pkg">https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/Anaconda3-2020.11-MacOSX-x86_64.pkg</a>￼（点击即可下载）。也推荐下载miniconda。</p>
<p>macOS上安装没有什么需要注意的地方。下载好之后，双击进行安装，一直点“继续”，直到完成。</p>
<h4 id="检测是否安装好">检测是否安装好</h4>
<p>输入<code>conda -V</code>，查看版本号，出现conda版本号就是安装好了。</p>
<h4 id="打开终端的有base字样">打开终端的有(base)字样</h4>
<blockquote>
<p>macOS里遇到的问题</p>
</blockquote>
<p>新版的Anaconda会在每一个新开的terminal里面自动进入虚拟环境base。看着有些强迫症犯了。 使用如下命令就能把默认进入base虚拟环境关掉了。 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda config --set auto_activate_base false</span><br></pre></td></tr></table></figure></p>
<p>另外，如果需要进入base虚拟环境</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda activate</span><br></pre></td></tr></table></figure>
<p>退出当前虚拟环境</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda deactivate</span><br></pre></td></tr></table></figure>
<h3 id="为pytorch新建虚拟环境">为PyTorch新建虚拟环境</h3>
<ol type="1">
<li>新建虚拟环境，命名为pytorch，指定python版本为3.6。</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda create --name pytorch python=3.6</span><br></pre></td></tr></table></figure>
<ol start="2" type="1">
<li>安装好之后，进入pytorch虚拟环境。</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda activate pytorch</span><br></pre></td></tr></table></figure>
<h3 id="安装pytorch">安装PyTorch</h3>
<p>在pytorch虚拟环境中安装PyTorch。要注意，先进入pytorch虚拟环境。 附上官网的链接：</p>
<p><a target="_blank" rel="noopener" href="https://pytorch.org">https://pytorch.org</a>￼</p>
<p>根据官网，安装PyTorch。</p>
<h4 id="macos">MacOS</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install pytorch torchvision torchaudio -c pytorch</span><br></pre></td></tr></table></figure>
<h4 id="win">Win</h4>
<blockquote>
<p>要选择对应的cuda版本的，如果没有GPU就要选择None</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install pytorch torchvision torchaudio cudatoolkit=11.0 -c pytorch</span><br></pre></td></tr></table></figure>
<h3 id="vscode配置python">VSCode配置python</h3>
<p>参考官方链接 <a target="_blank" rel="noopener" href="https://code.visualstudio.com/docs/python/python-tutorial#_prerequisites">https://code.visualstudio.com/docs/python/python-tutorial#_prerequisites</a>￼</p>
<h4 id="下载安装vscode">下载安装VSCode</h4>
<p>官网下载，附上链接 <a target="_blank" rel="noopener" href="https://code.visualstudio.com">https://code.visualstudio.com</a>￼</p>
<h4 id="下载python插件">下载python插件</h4>
<p>在VSCode的应用商店中搜索Python，并下载 <img src="https://x.arcto.xyz/16oo5U/vscode下载python插件.jpg" alt="vscode下载python插件">￼</p>
<h4 id="下载python解释器">下载Python解释器</h4>
<p>这里的python解释器使用<strong>pytorch虚拟环境</strong>中的，见上文中“为PyTorch新建虚拟环境”。</p>
<p>验证python是否安装</p>
<pre><code>python3 --version</code></pre>
<p>由于我使用pytorch环境下的python，需要先进入该环境。</p>
<pre><code>conda activate pytorch</code></pre>
<p><img src="https://x.arcto.xyz/RK3zzQ/验证python的安装.jpg" alt="验证python的安装">￼</p>
<blockquote>
<p>后来换了一台电脑下载的是miniconda，无所谓啦~</p>
</blockquote>
<h4 id="设置python解释器">设置python解释器</h4>
<p>使用快捷键shift + command + P ，或者点击<strong>菜单栏</strong>中的<strong>查看</strong>里的<strong>命令面板</strong>， 打开命令面板。 输入<code>python:select interpreter</code> 选择python解释器。这里选择我要用的pytorch里的python3.6.2就好了。 <img src="https://x.arcto.xyz/T-xnZd/vscode设置python解释器.jpg" alt="vscode设置python解释器">￼</p>
<p>Note：代码补全要用IntelliCode，不要用Pylance（要卸掉）</p>
<h3 id="vscode代码自动补全">VSCode代码自动补全</h3>
<p>下载插件：Visual Studio IntelliCode 注意：VS Code会在右下角推荐Pylance，不要下载</p>
<p>在全局的setting.json中，找到以下有关editor.suggest设置为false的代码删掉</p>
<pre><code>  &quot;editor.acceptSuggestionOnCommitCharacter&quot;: false,
    &quot;editor.suggest.showClasses&quot;: false,
    &quot;editor.suggest.showConstructors&quot;: false,
    &quot;editor.suggest.showEvents&quot;: false,
    &quot;editor.suggest.showFields&quot;: false,
    &quot;editor.suggest.showFunctions&quot;: false,
    &quot;editor.suggest.showVariables&quot;: false,
    &quot;editor.suggest.showValues&quot;: false,
    &quot;editor.suggest.showUnits&quot;: false,
    &quot;editor.suggest.showTypeParameters&quot;: false,
    &quot;editor.suggest.showSnippets&quot;: false,
    &quot;editor.suggest.showReferences&quot;: false,
    &quot;editor.suggest.showOperators&quot;: false,
    &quot;editor.suggest.showModules&quot;: false,
    &quot;editor.suggest.showProperties&quot;: false,
    &quot;editor.suggest.showIssues&quot;: false,
    &quot;editor.suggest.showMethods&quot;: false,
    &quot;editor.suggest.showIcons&quot;: false,
    &quot;editor.suggest.showInterfaces&quot;: false,
    &quot;editor.suggest.showFolders&quot;: false,
    &quot;editor.suggest.showFiles&quot;: false,
    &quot;editor.suggest.snippetsPreventQuickSuggestions&quot;: false,
    &quot;editor.suggest.showWords&quot;: false,
    &quot;editor.suggest.showKeywords&quot;: false,
    &quot;editor.suggest.showEnums&quot;: false,
    &quot;editor.suggest.showEnumMembers&quot;: false,
    &quot;editor.suggest.showConstants&quot;: false,
    &quot;editor.suggest.filterGraceful&quot;: false,
    &quot;editor.suggest.showStructs&quot;: false,
    &quot;editor.suggest.showUsers&quot;: false,</code></pre>
<p>将下面这行的null改为true，即将</p>
<pre><code>&quot;editor.quickSuggestions&quot;: null,</code></pre>
<p>改为</p>
<pre><code>&quot;editor.quickSuggestions&quot;: true,</code></pre>
<h5 id="如何打开全局的setting.json">如何打开全局的setting.json</h5>
<p>点击 code =&gt; 首选项 =&gt; 设置，随便找一项设置，点击<strong>在setting.json中编辑</strong>，（再删掉新加的代码就好了），不知道有什么其他的好方法。</p>
<h3 id="其他">其他</h3>
<p>当然啦，PyCharm也是很好的选择~也推荐~</p>
<h3 id="用conda安装opencv">用conda安装opencv</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install opencv3 -c anaconda</span><br></pre></td></tr></table></figure>
<p>c是channel的意思，要指定anaconda或者menpo做channel才行。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Christy</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>站点总字数：</span>
    <span title="站点总字数">39k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">35 分钟</span>
  </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  
<script src="/js/third-party/search/local-search.js"></script>




  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js","integrity":"sha256-r+3itOMtGGjap0x+10hu6jW/gZCzxHsoKrOd7gyRSGY="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>




  <script async src="/js/cursor/love.min.js"></script>




  <script src="/js/activate-power-mode.min.js"></script>
  <script>
    POWERMODE.colorful = true;
    POWERMODE.shake = false;
    document.body.addEventListener('input', POWERMODE);
  </script>

</body>
</html>
